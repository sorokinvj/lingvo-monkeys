# Система отслеживания активности пользователей

## Обзор

Данный документ описывает архитектуру системы отслеживания активности пользователей в приложении Lingvo Monkeys. Система предназначена для сбора данных о взаимодействии пользователей с приложением с целью дальнейшего анализа и улучшения пользовательского опыта.

## Отслеживаемые действия

На основе анализа приложения, следующие действия пользователей являются ключевыми для отслеживания:

### Файловые операции

- **Загрузка файла** - когда пользователь загружает новый аудиофайл (время, имя файла, размер)
- **Открытие файла** - когда пользователь открывает файл для прослушивания (время, идентификатор файла)
- **Прослушивание** - данные о сессиях прослушивания (начало, продолжительность, прогресс)

### Навигация

- **Просмотр страниц** - какие страницы посещает пользователь и как долго на них находится

### Взаимодействие с плеером

- **Воспроизведение/пауза** - когда пользователь включает или останавливает воспроизведение
- **Перемотка** - когда пользователь перематывает аудио (время и позиция)
- **Изменение скорости** - когда пользователь меняет скорость воспроизведения

## Дополнительные действия для отслеживания

- **Поисковые запросы** - что пользователь ищет в приложении
- **Завершение прослушивания** - фиксация, когда пользователь дослушивает файл до конца
- **Изменение настроек** - когда пользователь изменяет персональные настройки
- **Взаимодействие с текстом транскрипции** - клики по словам, выделение текста

## Технические требования

- Минимальное влияние на производительность приложения
- Надежное хранение данных без потерь
- Аггрегированный и неаггрегированный доступ к данным
- Соответствие требованиям конфиденциальности и GDPR
